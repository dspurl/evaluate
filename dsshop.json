{"name":"\u8bc4\u4ef7","abbreviation":"comment","describe":"\u8bc4\u4ef7\u529f\u80fd\uff0c\u4e0d\u4ec5\u9650\u4e8e\u5546\u54c1","instructions":"#\u8bc4\u4ef7\n\n## \u8bf4\u660e\n\n- \u8be5\u63d2\u4ef6\u4f9d\u8d56dsshop\u9879\u76ee\uff0c\u800c\u975e\u901a\u7528\u63d2\u4ef6\n- \u652f\u6301\u7248\u672c:dsshop v2.2.0\u53ca\u4ee5\u4e0a\n- \u5df2\u540c\u6b65\u7248\u672c\uff1adsshop v2.2.0\n\n## \u529f\u80fd\u4ecb\u7ecd\n\n- \u652f\u6301\u5bf9\u5546\u54c1\u8fdb\u884c\u8bc4\u4ef7\uff0c\u5e73\u53f0\u53ef\u901a\u8fc7\u540e\u53f0\u8fdb\u884c\u56de\u590d\n- \u652f\u6301\u81ea\u52a8\u8bc4\u4ef7\u529f\u80fd\uff0c\u9ed8\u8ba4\u6536\u8d2712\u540e\u5929\u81ea\u52a8\u597d\u8bc4\n- \u652f\u6301\u4e3a\u540c\u4e00\u8ba2\u5355\u591a\u4ef6\u5546\u54c1\u8fdb\u884c\u8bc4\u4ef7\n- \u5546\u54c1\u8be6\u60c5\u9875\u663e\u793a\u8bc4\u4ef7\u8bb0\u5f55\uff0c\u9ed8\u8ba4\u663e\u793a2\u6761\uff0c\u5728\u8bc4\u4ef7\u5217\u8868\u663e\u793a\u5168\u90e8\uff0c\u6bcf\u6b21\u52a0\u8f7d8\u6761\u6570\u636e\n- \u652f\u6301\u7528\u6237\u533f\u540d\u8bc4\u4ef7\n- \u652f\u6301\u7528\u6237\u4e0a\u4f20\u56fe\u7247\u3001\u586b\u5199\u8bc4\u4ef7\u5185\u5bb9\u3001\u8fdb\u884c\u661f\u7ea7\u8bc4\u5206\uff0c\u9ed8\u8ba4\u53ea\u8981\u8fdb\u884c\u661f\u7ea7\u8bc4\u5206\u548c\u8bc4\u4ef7\u5185\u5bb9\u5373\u53ef\u5b8c\u6210\u8bc4\u4ef7\n- \u8bc4\u4ef7\u5217\u8868\u663e\u793a\u7528\u6237\u8d2d\u4e70\u7684\u5546\u54c1\u89c4\u683c\uff0c\u5c55\u793a\u8bc4\u4ef7\u4e0a\u4f20\u7684\u56fe\u7247\uff0c\u5e76\u652f\u6301\u56fe\u7247\u9884\u89c8\n- \u6570\u636e\u8868\u4e3a\u7075\u6d3b\u8bbe\u8ba1\uff0c\u5373\u53ef\u4ee5\u652f\u6301\u5176\u5b83\u8bc4\u4ef7\uff0c\u53ea\u9700\u8981\u8bbe\u7f6e`model_type`\u548c`model_id `\u5373\u53ef\n\n## \u4f7f\u7528\u8bf4\u660e\n\n#### \u4e00\u3001 \u4e0b\u8f7dcomment\u6700\u65b0\u7248\n\n#### \u4e8c\u3001 \u89e3\u538bcomment\u5230\u9879\u76eeplugin\u76ee\u5f55\u4e0b\n\n#### \u4e09\u3001 \u767b\u5f55dsshop\u540e\u53f0\uff0c\u8fdb\u5165\u63d2\u4ef6\u5217\u8868\n\n#### \u56db\u3001 \u5728\u7ebf\u5b89\u88c5\uff08\u8bf7\u4fdd\u6301dsshop\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u4e14\u5728dev\u4e0b\u8fd0\u884c\uff0c\u5982\u5df2\u90e8\u7f72\u5230\u7ebf\u4e0a\uff0c\u8bf7\u5728\u672c\u5730\u6d4b\u8bd5\u73af\u5883\u5b89\u88c5\uff0c\u56e0\u6d89\u53ca\u6587\u4ef6\u64cd\u4f5c\uff0c\u8bf7\u4e0d\u8981\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u8fdb\u884c\u63d2\u4ef6\u64cd\u4f5c\uff09\n\n#### \u4e94\u3001 \u4f7f\u7528\u8bf4\u660e\n\n##### \u7ba1\u7406\u5458\u5357\n\n- \u7528\u6237\u8bc4\u4ef7\u540e\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u901a\u8fc7\u8bc4\u4ef7\u7ba1\u7406\u5bf9\u7528\u6237\u7684\u8bc4\u4ef7\u5185\u5bb9\u8fdb\u884c\u5ba1\u6838\uff0c\u5ba1\u6838\u901a\u8fc7\u7684\u624d\u4f1a\u5728\u524d\u53f0\u5c55\u793a\n- \u7ba1\u7406\u5458\u53ef\u4ee5\u628a\u7528\u6237\u8bc4\u4ef7\u7684\u5185\u5bb9\u8fdb\u884c\u5220\u9664\uff0c\u5220\u9664\u540e\u8be5\u6761\u8bc4\u4ef7\u548c\u56de\u590d\u90fd\u4f1a\u88ab\u5220\u9664\n\n#### \u516d\u3001\u63d2\u4ef6\u793a\u4f8b\u4ee3\u7801\uff0c\u4ee5\u4e0b\u4ec5\u4f9b\u53c2\u8003\uff0c\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u81ea\u884c\u5b9e\u73b0\n\n##### \u8fd0\u7ef4\u6307\u5357\n\n- \u63d2\u4ef6\u63d0\u4f9b`automatic:evaluate`\u547d\u4ee4\u6765\u5b9e\u73b0\u81ea\u52a8\u8bc4\u4ef7\u529f\u80fd\n\n```php\nprotected $commands = [\n    ...\n    AutomaticDelivery::class,\n];\nprotected function schedule(Schedule $schedule){\n    ...\n    if (config('comment.automaticEvaluateState')) {    \/\/\u662f\u5426\u5f00\u542f\u81ea\u52a8\u597d\u8bc4\n        $schedule->command('automatic:evaluate')->everyMinute();\n    }\n}\n```\n\n##### \u5f00\u53d1\u6307\u5357\n\n###### \u914d\u7f6e\n\n```shell\n# .env\nAUTOMATIC_EVALUATE_STATE=true   #\u662f\u5426\u5f00\u542f\u81ea\u52a8\u8bc4\u4ef7\u529f\u80fd\nAUTOMATIC_EVALUATE=12   #\u591a\u5c11\u5929\u540e\u81ea\u52a8\u597d\u8bc4\n```\n\n#### \u7f51\u7ad9\n\n###### \u6211\u7684\u8ba2\u5355\u6dfb\u52a0\u76f8\u5173\u94fe\u63a5\n\n```vue\n#client\\nuxt-web\\mi\\pages\\user\\indent\\list.vue\n<template>\n\t...\n\t<el-tab-pane label=\"\u5f85\u6536\u8d27\" name=\"3\"><\/el-tab-pane>\n    <el-tab-pane label=\"\u5f85\u8bc4\u4ef7\" name=\"10\"><\/el-tab-pane>\n\t...\n\t<div class=\"operation\">\n\t\t<div>\n\t\t\t...\n            <div v-if=\"item.state === 1\" class=\"button\"><el-button :loading=\"buttonLoading\" size=\"mini\" round @click=\"cancelOrder(item)\">\u53d6\u6d88\u8ba2\u5355<\/el-button><\/div>\n            <NuxtLink :to=\"{ path: '\/comment\/score', query: { id: item.id }}\" v-if=\"item.state === 10\"><div class=\"button\"><el-button type=\"danger\" size=\"mini\" round>\u7acb\u5373\u8bc4\u4ef7<\/el-button><\/div><\/NuxtLink>\n\t\t<\/div>\n\t<\/div>\n<\/template>\n```\n\n###### \u8ba2\u5355\u8be6\u60c5\u589e\u52a0\u8bc4\u4ef7\u76f8\u5173\u4ee3\u7801\n\n```vue\n#client\\nuxt-web\\mi\\pages\\user\\indent\\detail.vue\n<template>\n\t...\n\t<div :class=\"{on:indent.state === 5 || indent.state === 11}\">\n        <div class=\"chunk\">\u4ea4\u6613\u6210\u529f<\/div>\n        <div class=\"name\"><\/div>\n    <\/div>\n<\/template>\n```\n\n###### \u5546\u54c1\u8be6\u60c5\u6dfb\u52a0\u8bc4\u4ef7\u76f8\u5173\u4ee3\u7801\n\n```js\n#client\\nuxt-web\\mi\\pages\\product\\js\\detail.js\nimport Comment from '@\/pages\/comment\/list'\nimport {good} from '@\/api\/comment'\nexport default {\n  components: {\n    ...\n    Comment\n  },\n  data() {\n    return {\n        commentTotal: 0\n    }\n  },\n  mounted() {\n      this.getCommentTotal()\n  },\n  methods: {\n    \/\/ \u83b7\u53d6\u8bc4\u4ef7\u603b\u6570\n    getCommentTotal(){\n      good({\n        limit: 1,\n        page: 1,\n        good_id:$nuxt.$route.query.id,\n        sort:'-created_at'\n      }).then(response => {\n        this.commentTotal = response.total\n      })\n    }\n  }\n}\n```\n\n```vue\n#client\\nuxt-web\\mi\\pages\\product\\detail.vue\n<template>\n\t...\n\t<div class=\"product-box\">\n      <div class=\"tab\">\n        <span :class=\"{on:tab === 1}\" @click=\"cutTab(1)\">\u5546\u54c1\u8be6\u60c5<\/span>\n        <el-divider direction=\"vertical\"><\/el-divider>\n        <span :class=\"{on:tab === 2}\" @click=\"cutTab(2)\">\u8bc4\u4ef7({{commentTotal}})<\/span>\n      <\/div>\n      <div class=\"detail-box\">\n        <div class=\"container\" v-loading=\"tabLoading\">\n          <div v-if=\"tab === 1\" v-html=\"goodDetail.details\"><\/div>\n          <div v-else-if=\"tab === 2\">\n            <Comment><\/Comment>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n<\/template>\n```\n\n\n\n#### \u79fb\u52a8\u7aef\n\n###### pages.json\u6dfb\u52a0\u8def\u7531\n\n```json\n#client\\uni-app\\mix-mall\\pages.json\n,{\n    \"path\": \"pages\/comment\/score\",\n    \"style\": {\n        \"navigationBarTitleText\": \"\u8bc4\u4ef7\",\n        \"app-plus\": {\n            \"bounce\": \"none\"\n        }\n    }\n}\n, {\n    \"path\": \"pages\/comment\/list\",\n    \"style\": {\n        \"navigationBarTitleText\": \"\u8bc4\u4ef7\u5217\u8868\",\n        \"enablePullDownRefresh\": true,\n        \"onReachBottomDistance\": 50\n    }\n}\n```\n\n###### \u4e2a\u4eba\u4e2d\u5fc3\u589e\u52a0\u8bc4\u4ef7\u94fe\u63a5\u53ca\u5f85\u8bc4\u4ef7\u6570\u91cf\n\n```vue\n#client\\uni-app\\mix-mall\\pages\\user\\user.vue\n<template>\n\t<!-- \u8ba2\u5355 -->\n\t<view class=\"order-section\">\n        ...\n        <view class=\"order-item\" @click=\"navTo('\/pages\/indent\/list?state=4')\" hover-class=\"common-hover\"  :hover-stay-time=\"50\">\n            <text class=\"yticon icon-yishouhuo\"><text v-if=\"quantity.remainEvaluated\" class=\"cu-tag badge\">{{quantity.remainEvaluated}}<\/text><\/text>\n            <text>\u5f85\u8bc4\u4ef7<\/text>\n        <\/view>\n    <\/view>\n<\/template>\n<script>\nexport default {\n    data() {\n\t\treturn {\n\t\t\tquantity: {\n                all: 0,\n                obligation: 0,\n                waitdeliver: 0,\n                waitforreceiving: 0,\n\t\tremainEvaluated: 0\n            },\n\t\t};\n\t},\n    onShow(){\n            this.quantity = {\n                all: 0,\n                obligation: 0,\n                waitdeliver: 0,\n                waitforreceiving: 0,\n\t\tremainEvaluated: 0\n            }\n        }\n\n    },\n}\n<\/script>\n```\n\n###### \u8ba2\u5355\u5217\u8868\u589e\u52a0\u8bc4\u4ef7\u6309\u94ae\n\n```vue\n#client\\uni-app\\mix-mall\\pages\\indent\\list.vue\n<template>\n\t<view class=\"action-box b-t\">\n        ...\n        <block v-if=\"item.state === 10\">\n        \t<button class=\"action-btn recom\" @tap=\"goScore(item)\">\u7acb\u5373\u8bc4\u4ef7<\/button>\n        <\/block>\n    <\/view>\n<\/template>\n<script>\nexport default {\n    data() {\n\t\treturn {\n\t\t\tnavList: [\n                ...\n            \t{\n                    state: 10,\n                    text: '\u5f85\u8bc4\u4ef7',\n                    loadingType: 'more',\n                    orderList: []\n            \t}\n            ],\n\t\t};\n\t},\n    methods: {\n        \/\/ \u8bc4\u4ef7\n        goScore(item){\n            uni.navigateTo({\n                url: `\/pages\/comment\/score?id=${item.id}`\n            })\n        },\n        \/\/\u8bc4\u4ef7\u6210\u529f\u540e\u56de\u8c03\n        refreshOderList(){\n            \/\/ \u9700\u8981\u91cd\u65b0\u52a0\u8f7d\n            this.loadData()\n        }\n    }\n}\n<\/script>\n```\n\n###### \u8ba2\u5355\u8be6\u60c5\u589e\u52a0\u8bc4\u4ef7\u6309\u94ae\n\n```vue\n#client\\uni-app\\mix-mall\\pages\\indent\\detail.vue\n<template>\n\t<!-- \u5e95\u90e8 -->\n\t<view v-if=\"indentList.state === 1 || indentList.state === 3 || indentList.state === 10\" class=\"footer\">\n        <view class=\"price-content\"><\/view>\n        <navigator v-if=\"indentList.state === 1\" :url=\"'\/pages\/money\/pay?id=' + indentList.id\" hover-class=\"none\" class=\"submit\">\u7acb\u5373\u652f\u4ed8<\/navigator>\n        <view v-else-if=\"indentList.state === 3\" class=\"submit\" @click=\"confirmReceipt(indentList)\">\u786e\u8ba4\u6536\u8d27<\/view>\n        <view v-else-if=\"indentList.state === 10\" class=\"submit\" @click=\"goScore(indentList)\">\u7acb\u5373\u8bc4\u4ef7<\/view>\n    <\/view>\n<\/template>\n<script>\nexport default {\n    methods: {\n        \/\/ \u8bc4\u4ef7\n        goScore(item){\n            uni.navigateTo({\n                url: `\/pages\/comment\/score?id=${item.id}`\n            })\n        },\n        \/\/\u8bc4\u4ef7\u6210\u529f\u540e\u56de\u8c03\n        refreshOderList(){\n            \/\/ \u9700\u8981\u91cd\u65b0\u52a0\u8f7d\n            this.getList()\n        }\n    }\n}\n<\/script>\n```\n\n###### \u6dfb\u52a0\u5546\u54c1\u8bc4\u4ef7\u8bb0\u5f55\n\n```vue\n#client\\uni-app\\mix-mall\\pages\\product\\detail.vue\n<template>\n\t\t<!-- \u8bc4\u4ef7 -->\n\t\t<view class=\"eva-section\">\n\t\t\t<view class=\"e-header\">\n\t\t\t\t<text class=\"tit\">\u8bc4\u4ef7<\/text>\n\t\t\t\t<text>({{commentTotal}})<\/text>\n\t\t\t\t<navigator hover-class=\"none\" class=\"tip\" :url=\"'\/pages\/comment\/list?id='+ id\">\u67e5\u770b\u5168\u90e8<\/navigator>\n\t\t\t\t<text class=\"yticon icon-you\"><\/text>\n\t\t\t<\/view>\n\t\t\t<view class=\"eva-box\" v-for=\"(item,index) in commentList\" :key=\"index\">\n\t\t\t\t<image class=\"portrait\" :src=\"item.comment.portrait || '\/static\/missing-face.png'\"  mode=\"aspectFill\" lazy-load><\/image>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text class=\"name\">{{item.comment.name}}<\/text>\n\t\t\t\t\t<text class=\"con\">{{item.comment.details}}<\/text>\n\t\t\t\t\t<view class=\"bot\">\n\t\t\t\t\t\t<text class=\"attr\">\u8d2d\u4e70\u7c7b\u578b\uff1a<span v-for=\"(ite,ind) in item.good_sku.product_sku\" :key=\"ind\" class=\"padding-right-xs\">{{ite.value}}<\/span><\/text>\n\t\t\t\t\t\t<text class=\"time\">{{item.comment.created_at.split(' ')[0]}}<\/text>\n\t\t\t\t\t<\/view>\n\t\t\t\t<\/view>\n\t\t\t<\/view>\n\t\t<\/view>\n<\/template>\n<script>\nimport {good as commentGood} from '@\/api\/comment'\nexport default {\n    data() {\n\t\treturn {\n\t\t\t...\n\t\t\tcommentList: [],\n\t\t\tcommentTotal:0\n\t\t};\n\t},\n    async onLoad(options) {\n\t\tif (id) {\n\t\t\t...\n\t\t\tthis.goodEvaluate()\n\t\t}\n\t},\n    methods: {\n\t\t\/\/ \u83b7\u53d6\u8bc4\u4ef7\u5217\u8868\n\t\tgoodEvaluate(){\n\t\t\tconst that = this\n\t\t\tcommentGood({\n\t\t\t\tlimit: 2,\n\t\t\t\tpage: 1,\n\t\t\t\tgood_id:this.id,\n\t\t\t\tsort:'-created_at'\n\t\t\t},function(res){\n\t\t\t\tif(res.total>0){\n\t\t\t\t\tthat.commentList = res.data\n\t\t\t\t\tthat.commentTotal = res.total\n\t\t\t\t}\n\t\t\t})\n\t\t},\n    }\n}\n<\/script>\n```\n\n###### \u6dfb\u52a0\u540e\u53f0\u8ba2\u5355\u8fdb\u5ea6\u5bf9\u8bc4\u4ef7\u7684\u652f\u6301\n\n```vue\n#admin\\vue2\\element-admin-v3\\src\\views\\IndentManagement\\Indent\\components\\Detail.vue\n<template>\n<\/template>\n<script>\nexport default {\n    data() {\n\t\treturn {\n\t\t};\n\t},\n    methods: {\n\t\tgetList() {\n            case 5:\n            case 11:\n              this.order_progress = 4\n              break\n        }\n    }\n}\n<\/script>\n```\n\n###### \u6dfb\u52a0\u8ba2\u5355\u8bc4\u4ef7\u76f8\u5173\u72b6\u6001\n\n```php\n#\\app\\Models\\v1\\GoodIndent.php\nconst GOOD_INDENT_STATE_EVALUATE = 10; \/\/\u72b6\u6001\uff1a\u5f85\u8bc4\u4ef7\nconst GOOD_INDENT_STATE_HAVE_EVALUATION = 11; \/\/\u72b6\u6001\uff1a\u5df2\u8bc4\u4ef7\nconst GOOD_INDENT_IS_AUTOMATIC_EVALUATE_YES = 1; \/\/\u81ea\u52a8\u597d\u8bc4\uff1a\u662f\nconst GOOD_INDENT_IS_AUTOMATIC_EVALUATE_NO = 0; \/\/\u81ea\u52a8\u597d\u8bc4\uff1a\u5426\npublic function getStateShowAttribute()\n{\n   ...\n\tcase static::GOOD_INDENT_STATE_REFUND_FAILURE:\n    \t$return = '\u9000\u6b3e\u5931\u8d25';\n    \tbreak;\n    case static::GOOD_INDENT_STATE_EVALUATE:\n        $return = '\u5f85\u8bc4\u4ef7';\n        break;\n    case static::GOOD_INDENT_STATE_HAVE_EVALUATION:\n    \t$return = '\u5df2\u8bc4\u4ef7';\n    \tbreak;\n}\n```\n\n###### \u6dfb\u52a0\u5546\u54c1\u8bc4\u4ef7\u5173\u8054\n\n```php\n#api\\app\\Models\\v1\\GoodIndentCommodity.php\n\/**\n  * \u83b7\u53d6\u8bc4\u4ef7\n  *\/\npublic function Comment(){\n    return $this->morphOne('App\\Models\\v1\\Comment', 'model');\n}\n```\n\n###### \u589e\u52a0\u8bc4\u4ef7\u7edf\u8ba1\u4ee3\u7801\n\n```php\n#api\\app\\Http\\Controllers\\v1\\Client\\GoodIndentController.php\npublic function quantity()\n{\n    ...\n    'waitforreceiving' => 0, \/\/\u5f85\u6536\u8d27\n    'remainEvaluated' => 0, \/\/\u5f85\u8bc4\u4ef7\n    ...\n    } else if ($indent->state == GoodIndent::GOOD_INDENT_STATE_TAKE) {\n    \t$return['waitforreceiving'] += 1;\n\t} else if ($indent->state == GoodIndent::GOOD_INDENT_STATE_EVALUATE) {\n    \t$return['remainEvaluated'] += 1;\n\t}\n}\n```\n\n\u914d\u7f6e\u6a21\u677f\u901a\u77e5\n\n```php\n#api\\config\\notification.php\n'wechat'=>[ \/\/\u5fae\u4fe1\u516c\u4f17\u53f7\n    ...\n    'order_evaluate'=>env('WECHAT_SUBSCRIPTION_INFORMATION_ORDER_EVALUATE',''),  \/\/\u8ba2\u5355\u8bc4\u4ef7\u63d0\u9192\n    'admin_order_evaluate'=>env('WECHAT_SUBSCRIPTION_INFORMATION_ADMIN_ORDER_EVALUATE',''),  \/\/\u7528\u6237\u8bc4\u4ef7\u901a\u77e5\n    ],\n```\n\n```shell\n#.env\nWECHAT_SUBSCRIPTION_INFORMATION_ORDER_EVALUATE=\nWECHAT_SUBSCRIPTION_INFORMATION_ADMIN_ORDER_EVALUATE=\n```\n\n\n\n## \u5982\u4f55\u66f4\u65b0\u63d2\u4ef6\n\n- \u5c06\u6700\u65b0\u7248\u7684\u63d2\u4ef6\u4e0b\u8f7d\uff0c\u5e76\u66ff\u6362\u8001\u7684\u63d2\u4ef6\uff0c\u540e\u53f0\u53ef\u4e00\u952e\u5347\u7ea7\n\n## \u5982\u4f55\u5378\u8f7d\u63d2\u4ef6\n\n- \u540e\u53f0\u53ef\u4e00\u952e\u5378\u8f7d","versions":"2.2.0","author":"dspurl","local":true,"clientTemplate":["nuxt-web\/mi","uni-app\/mix-mall"],"adminTemplate":["vue2\/element-admin-v3"],"packagingJurisdiction":[{"label":"\u5de5\u5177","value":23,"pid":0,"id":23,"api":"ToolManagement","url":null,"icon":"tool","title":"\u5de5\u5177","state":1,"sort":1,"children":[{"label":"\u8bc4\u8bba","value":372,"pid":23,"id":372,"api":"Comment","url":null,"icon":null,"title":"\u8bc4\u8bba","state":1,"sort":0,"children":[{"label":"\u8bc4\u8bba\u5217\u8868","value":373,"pid":372,"id":373,"api":"CommentList","url":null,"icon":null,"title":"\u8bc4\u8bba\u5217\u8868","state":1,"sort":0},{"label":"\u8bc4\u4ef7\u56de\u590d","value":374,"pid":372,"id":374,"api":"CommentCreate","url":null,"icon":null,"title":"\u8bc4\u4ef7\u56de\u590d","state":0,"sort":0},{"label":"\u8bc4\u4ef7\u64cd\u4f5c","value":375,"pid":372,"id":375,"api":"CommentEdit","url":null,"icon":null,"title":"\u8bc4\u4ef7\u64cd\u4f5c","state":0,"sort":0},{"label":"\u5220\u9664\u8bc4\u8bba","value":377,"pid":372,"id":377,"api":"CommentDestroy","url":null,"icon":null,"title":"\u5220\u9664\u8bc4\u8bba","state":0,"sort":0}]}]}],"db":[{"name":"comments","annotation":"\u8bc4\u8bba","indexes":[{"name":"model_id","type":"INDEX","field":["model_id"]},{"name":"user_id","type":"INDEX","field":["user_id"]}],"attribute":[{"name":"id","type":"integer","length":null,"default":null,"sort":"utf8_general_ci","attribute":null,"is_empty":null,"AUTO_INCREMENT":null,"annotation":null},{"name":"model_id","type":"integer","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":null,"AUTO_INCREMENT":null,"annotation":"\u8bc4\u8bba\u5173\u8054\u6a21\u578bID"},{"name":"model_type","type":"string","length":"200","default":null,"sort":"utf8_general_ci","attribute":null,"is_empty":false,"AUTO_INCREMENT":null,"annotation":"\u8bc4\u8bba\u5173\u8054\u7684\u6a21\u578b"},{"name":"user_id","type":"integer","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":false,"AUTO_INCREMENT":null,"annotation":"\u7528\u6237ID"},{"name":"parent_id","type":"integer","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":false,"AUTO_INCREMENT":null,"annotation":"\u7236\u8282\u70b9ID"},{"name":"title","type":"string","length":"60","default":null,"sort":"utf8_general_ci","attribute":null,"is_empty":false,"AUTO_INCREMENT":null,"annotation":"\u8bc4\u8bba\u6807\u9898"},{"name":"details","type":"string","length":"800","default":null,"sort":"utf8_general_ci","attribute":null,"is_empty":true,"AUTO_INCREMENT":null,"annotation":"\u56de\u590d\u5185\u5bb9"},{"name":"state","type":"tinyInteger","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":null,"AUTO_INCREMENT":null,"annotation":"\u72b6\u6001:0=\u5f85\u5ba1\u6838-audit,1=\u901a\u8fc7-pass,2=\u5931\u8d25-fail"},{"name":"anonymity","type":"tinyInteger","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":null,"AUTO_INCREMENT":null,"annotation":"\u662f\u5426\u533f\u540d:0=\u5426-no,1=\u662f-yes"},{"name":"score","type":"tinyInteger","length":null,"default":"0","sort":"utf8_general_ci","attribute":"UNSIGNED","is_empty":null,"AUTO_INCREMENT":null,"annotation":"\u8bc4\u5206"}],"softDeletes":0,"timestamps":1,"after_end":true,"backstage":true,"data_table":true,"jurisdiction":true,"client":true,"reset":false}],"observer":[{"name":"user evaluate notification","models":"Comment","path":["api\/v1\/app\/comment\/{id}"],"explain":"\u7528\u6237\u5b8c\u6210\u8bc4\u4ef7\u901a\u77e5","reset":false},{"name":"automatic evaluate","models":"GoodIndent","path":[],"explain":"\u81ea\u52a8\u8bc4\u4ef7\u5904\u7406","reset":false},{"name":"order rate notification","models":"GoodIndent","path":["api\/v1\/app\/goodIndent\/receipt\/{id}"],"explain":"\u8ba2\u5355\u8bc4\u4ef7\u901a\u77e5","reset":false}],"relevance":[{"file":"\/api\/config\/comment.php","explain":"\u8bc4\u4ef7\u914d\u7f6e\u6587\u4ef6"},{"file":"\/api\/database\/migrations\/2021_06_28_191801_add_evaluate_time_to_good_indents_table.php","explain":"\u8ba2\u5355\u589e\u52a0\u8bc4\u4ef7\u65f6\u95f4\u548c\u81ea\u52a8\u597d\u8bc4\u72b6\u6001"},{"file":"\/api\/app\/Console\/Commands\/AutomaticEvaluate.php","explain":"\u81ea\u52a8\u8bc4\u4ef7"}],"routes":false,"publish":false}